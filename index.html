<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Vine of Discipleship</title>
<style>
  body {
    margin: 0;
    font-family: "Georgia", serif;
    background: linear-gradient(to bottom, #f5fff5, #f0faf0);
    overflow-x: hidden;
  }

  .vine {
    position: relative;
    width: 100%;
    height: 2600px;
    background: url('https://i.imgur.com/YW2cT6C.png') center top / contain no-repeat;
  }

  .leaf {
    position: absolute;
    width: 180px;
    height: 180px;
    border-radius: 50%;
    background: #a2c38b;
    opacity: 0.3;
    filter: grayscale(80%);
    transition: all 1.5s ease;
    box-shadow: 0 0 10px rgba(0,0,0,0.15);
  }

  .leaf.active {
    opacity: 1;
    filter: none;
    transform: scale(1.05);
  }

  .leaf h2 {
    color: white;
    text-align: center;
    padding-top: 60px;
    font-size: 1.1rem;
  }

  .grapes {
    display: none;
    position: absolute;
    text-align: center;
    width: 100%;
  }

  .grape {
    width: 60px;
    height: 60px;
    background-color: purple;
    border-radius: 50%;
    margin: 10px auto;
    cursor: pointer;
    transition: transform 0.3s;
  }

  .grape:hover {
    transform: scale(1.1);
  }

  .grape.clicked {
    background-color: #9b59b6;
    transform: scale(1);
  }

  .reflection {
    display: none;
    background: white;
    border-radius: 8px;
    padding: 10px;
    width: 250px;
    margin: 5px auto;
    box-shadow: 0 0 10px rgba(0,0,0,0.15);
  }

  @media (max-width: 768px) {
    .leaf {
      width: 150px;
      height: 150px;
    }
    .leaf h2 {
      font-size: 1rem;
      padding-top: 50px;
    }
  }
</style>
</head>

<body>
  <div class="vine">
    <!-- Leaf 1: Calling -->
    <div class="leaf active" id="leaf1" style="top: 100px; left: 50%;">
      <h2>Calling: Follow Me</h2>
    </div>
    <div class="grapes" id="grapes1" style="top: 300px;">
      <div class="grape" data-reflection="Awakening to Jesus: Recognizing His call to new life (Matt 4:19)."></div>
      <div class="grape" data-reflection="Responding in Obedience: Stepping forward in faith."></div>
      <div class="grape" data-reflection="Learning to Listen: Hearing and following His voice."></div>
      <div class="reflection" id="reflection1"></div>
    </div>

    <!-- Leaf 2: Formation -->
    <div class="leaf" id="leaf2" style="top: 600px; left: 55%;">
      <h2>Formation: Be With Me</h2>
    </div>
    <div class="grapes" id="grapes2" style="top: 800px;">
      <div class="grape" data-reflection="Intimacy with God: Being formed in presence (Mark 3:14)."></div>
      <div class="grape" data-reflection="Character & Integrity: Transformation through surrender."></div>
      <div class="grape" data-reflection="Practicing Rhythms: Habits that shape the heart."></div>
      <div class="reflection" id="reflection2"></div>
    </div>

    <!-- Leaf 3: Mission -->
    <div class="leaf" id="leaf3" style="top: 1100px; left: 45%;">
      <h2>Mission: Join Me</h2>
    </div>
    <div class="grapes" id="grapes3" style="top: 1300px;">
      <div class="grape" data-reflection="Serving Others: Love in action (Luke 10:1–3)."></div>
      <div class="grape" data-reflection="Sharing Good News: Witnessing to grace."></div>
      <div class="grape" data-reflection="Developing as a Leader: Learning to guide others."></div>
      <div class="reflection" id="reflection3"></div>
    </div>

    <!-- Leaf 4: Multiplication -->
    <div class="leaf" id="leaf4" style="top: 1600px; left: 55%;">
      <h2>Multiplication: Go and Make Disciples</h2>
    </div>
    <div class="grapes" id="grapes4" style="top: 1800px;">
      <div class="grape" data-reflection="Equipping Others: Investing in growth (Matt 28:19–20)."></div>
      <div class="grape" data-reflection="Empowering Ordinary People: Sharing leadership."></div>
      <div class="grape" data-reflection="Reproducing Leaders: Building future disciplers."></div>
      <div class="reflection" id="reflection4"></div>
    </div>

    <!-- Leaf 5: Legacy -->
    <div class="leaf" id="leaf5" style="top: 2100px; left: 50%;">
      <h2>Legacy: Abide and Bear Fruit</h2>
    </div>
    <div class="grapes" id="grapes5" style="top: 2300px;">
      <div class="grape" data-reflection="Remaining in Christ: The heart of fruitfulness (John 15:8)."></div>
      <div class="grape" data-reflection="Multiplying Movement: Extending the kingdom."></div>
      <div class="grape" data-reflection="Living for God’s Glory: Finishing well."></div>
      <div class="reflection" id="reflection5"></div>
    </div>
  </div>

<script>
  // Activation logic
  const stages = 5;
  for (let i = 1; i <= stages; i++) {
    const grapes = document.querySelectorAll(`#grapes${i} .grape`);
    const reflectionBox = document.getElementById(`reflection${i}`);
    const nextLeaf = document.getElementById(`leaf${i + 1}`);
    const nextGrapes = document.getElementById(`grapes${i + 1}`);

    let clickedCount = 0;

    grapes.forEach(grape => {
      grape.addEventListener('click', () => {
        const text = grape.getAttribute('data-reflection');
        reflectionBox.textContent = text;
        reflectionBox.style.display = 'block';
        grape.classList.add('clicked');

        if (!grape.clickedOnce) {
          grape.clickedOnce = true;
          clickedCount++;
        }

        if (clickedCount === 3 && nextLeaf) {
          nextLeaf.classList.add('active');
          nextGrapes.style.display = 'block';
          window.scrollTo({
            top: nextLeaf.offsetTop - 100,
            behavior: 'smooth'
          });
        }
      });
    });
  }

  // Show grapes for first stage
  document.getElementById('grapes1').style.display = 'block';
</script>
</body>
</html>
